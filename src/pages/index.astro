---
import BarraFlotante from "../componentes/navegacion/BarraFlotante.astro";
import Portada from "../componentes/portada/Portada.astro";
import DisenoBase from "../layouts/DisenoBase.astro";

import GrillaHabilidades from "../componentes/habilidades/GrillaHabilidades.astro";
import GrillaProyectos from "../componentes/proyectos/GrillaProyectos.astro";
import ApartadoProgramasTemporales from "../programas-temporales/ApartadoProgramasTemporales.astro";
import ColumnasSobreMi from "../componentes/sobre_mi/ColumnasSobreMi.astro";
import Seccion from "../componentes/ui/Seccion.astro";
---

<DisenoBase titulo="Portafolio | Jose David Consuegra Medina">
  <main class="contenedor">
    <Portada />

    <!-- Navegacion superior (cambia vistas) -->
    <BarraFlotante />

    <div class="viewport-vistas" aria-live="polite">
      <div id="contenedor-vistas" class="contenedor-vistas">
        <Seccion id="sobre-mi" titulo="Sobre mi" clase="vista activa">
          <ColumnasSobreMi />
        </Seccion>

        <Seccion id="proyectos" titulo="Proyectos" clase="vista vista-proyectos">
          <div class="bloques-proyectos">
            <section class="panel bloque-proyecto" aria-label="Proyectos propios">
              <h3>Proyectos propios</h3>
              <GrillaProyectos />
            </section>

            <section class="panel bloque-proyecto" aria-label="Programas temporales">
              <h3>Programas temporales</h3>
              <ApartadoProgramasTemporales />
            </section>
          </div>
        </Seccion>

        <Seccion id="habilidades" titulo="Habilidades" clase="vista">
          <GrillaHabilidades />
        </Seccion>
      </div>
    </div>
  </main>
</DisenoBase>

<style>
.viewport-vistas{
  position: relative;
  overflow: hidden;
}

.contenedor-vistas{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 100%));
  align-items: start;
  transition: transform 320ms cubic-bezier(0.2, 0.9, 0.2, 1);
}

.vista{
  min-width: 0;
}

.vista-proyectos{
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  padding: 18px 0 0;
}

.vista-proyectos .encabezado{
  margin-bottom: 12px;
  padding: 0 2px;
}

.bloques-proyectos{
  display: grid;
  gap: 16px;
}

.bloque-proyecto{
  padding: 16px;
  border-radius: 20px;
}

.bloque-proyecto h3{
  margin: 0 0 12px;
  font-family: var(--fuente-titulos);
  font-size: 26px;
}
</style>
