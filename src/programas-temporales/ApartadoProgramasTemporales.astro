---
import { programasTemporales } from "./programas";
---

<section class="apartado-temporal">
  <details class="acordeon-general" id="acordeon-programas-temporales">
    <summary>
      <span class="subtitulo">Programas temporales ({programasTemporales.length})</span>
      <span class="textoSuave etiqueta">Desplegar listado</span>
    </summary>

    <p class="textoSuave descripcion">
      Este bloque usa una cuadricula distinta a la de proyectos propios y se mantiene contraido por defecto para no
      extender tanto la pagina.
    </p>

    <div class="grilla-programas">
      {programasTemporales.map((programa) => (
        <details class="tarjeta-programa" name="programa-temporal">
          <summary>
            <h4>{programa.titulo}</h4>
            <span class="textoSuave">Ver detalle</span>
          </summary>

          <p class="textoSuave">{programa.descripcion}</p>

          <a class="boton-visita" href={programa.enlaceExterno} target="_blank" rel="noopener noreferrer">
            Ir al sitio del programa
          </a>
        </details>
      ))}
    </div>
  </details>
</section>

<style>
.apartado-temporal{
  margin-top: 0;
}

.acordeon-general{
  padding: 8px 2px;
  border-radius: 0;
}

.acordeon-general > summary,
.tarjeta-programa > summary{
  cursor: pointer;
  list-style: none;
}

.acordeon-general > summary::-webkit-details-marker,
.tarjeta-programa > summary::-webkit-details-marker{
  display: none;
}

.acordeon-general > summary{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.subtitulo{
  margin: 0;
  font-family: var(--fuente-titulos);
  font-size: 26px;
}

.descripcion{
  margin: 12px 0 14px;
}

.grilla-programas{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.tarjeta-programa{
  border-radius: 14px;
  padding: 12px;
  border: 1px solid var(--borde);
  background: color-mix(in srgb, var(--bg-item) 90%, #042f2e 10%);
}

.tarjeta-programa > summary{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.tarjeta-programa h4{
  margin: 0;
  font-size: 18px;
}

.tarjeta-programa p{
  margin: 10px 0;
  font-size: 15px;
  line-height: 1.45;
}

.boton-visita{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--borde);
  background: var(--bg-btn);
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 14px;
  text-decoration: none;
}

@media (max-width: 980px){
  .grilla-programas{ grid-template-columns: 1fr; }
}

@media (max-width: 760px){
  .acordeon-general > summary{
    align-items: flex-start;
    flex-direction: column;
  }

  .grilla-programas{ grid-template-columns: 1fr; }
}
</style>
