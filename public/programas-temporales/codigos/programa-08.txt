// Programa 08: Quicksort en Java con String
// Objetivo:
// Ordenar cadenas alfabeticamente (A-Z) usando Quicksort.
//
// Consideraciones de comparacion:
// - Se utiliza compareTo para comparar texto de forma lexicografica.
// - Si palabraA.compareTo(palabraB) <= 0, palabraA va antes o igual que palabraB.
//
// Estrategia de particion usada:
// - Tomamos como pivote el ultimo elemento del subarreglo.
// - Movemos hacia la izquierda las cadenas que sean <= pivote.
// - Colocamos el pivote en su posicion final y continuamos recursivamente.

public class Programa08QuickSortStrings {

    public static void main(String[] args) {
        String[] palabras = {"kiwi", "manzana", "pera", "uva", "banana", "cereza", "durazno"};

        System.out.print("Arreglo original: ");
        imprimir(palabras);

        quickSort(palabras, 0, palabras.length - 1);

        System.out.print("Arreglo ordenado: ");
        imprimir(palabras);
    }

    // Ordena recursivamente el subarreglo delimitado por izquierda y derecha.
    public static void quickSort(String[] arreglo, int izquierda, int derecha) {
        if (izquierda >= derecha) {
            return;
        }

        int indicePivote = particionar(arreglo, izquierda, derecha);

        quickSort(arreglo, izquierda, indicePivote - 1);
        quickSort(arreglo, indicePivote + 1, derecha);
    }

    // Metodo de particion para cadenas.
    public static int particionar(String[] arreglo, int izquierda, int derecha) {
        String pivote = arreglo[derecha];
        int i = izquierda - 1;

        for (int j = izquierda; j < derecha; j++) {
            // Si el valor actual va antes o igual al pivote alfabeticamente,
            // lo movemos al bloque izquierdo.
            if (arreglo[j].compareTo(pivote) <= 0) {
                i++;
                intercambiar(arreglo, i, j);
            }
        }

        intercambiar(arreglo, i + 1, derecha);
        return i + 1;
    }

    // Intercambio simple entre dos posiciones del arreglo.
    public static void intercambiar(String[] arreglo, int a, int b) {
        String temporal = arreglo[a];
        arreglo[a] = arreglo[b];
        arreglo[b] = temporal;
    }

    // Funcion de apoyo para mostrar resultados.
    public static void imprimir(String[] arreglo) {
        System.out.print("[");
        for (int i = 0; i < arreglo.length; i++) {
            System.out.print(arreglo[i]);
            if (i < arreglo.length - 1) {
                System.out.print(", ");
            }
        }
        System.out.println("]");
    }
}
